<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PostgreSQL Healthcheck Report</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --pg-blue: #336791;
            --pg-blue-light: #5a9fd4;
            --pg-blue-dark: #264653;
            --transition: 0.3s ease;
        }

        [data-theme="light"] {
            --bg: #f5f7fa;
            --bg-alt: #ffffff;
            --surface: #ffffff;
            --border: #e1e5eb;
            --text: #1a202c;
            --text-muted: #718096;
            --card-shadow: 0 2px 8px rgba(51, 103, 145, 0.08);
            --hover-shadow: 0 8px 24px rgba(51, 103, 145, 0.12);
        }

        [data-theme="dark"] {
            --bg: #0d1117;
            --bg-alt: #161b22;
            --surface: #1c2128;
            --border: #30363d;
            --text: #e6edf3;
            --text-muted: #8b949e;
            --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            --hover-shadow: 0 8px 24px rgba(51, 103, 145, 0.2);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Inter', -apple-system, sans-serif;
            line-height: 1.4;
            padding: 20px;
            transition: background var(--transition), color var(--transition);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            overflow: hidden;
        }

        .bg-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.12;
            animation: orb-float 25s ease-in-out infinite;
        }

        .bg-orb-1 {
            width: 400px;
            height: 400px;
            background: var(--pg-blue);
            top: -100px;
            right: -100px;
        }

        .bg-orb-2 {
            width: 300px;
            height: 300px;
            background: var(--pg-blue-light);
            bottom: -80px;
            left: -80px;
            animation-delay: -12s;
        }

        @keyframes orb-float {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            33% {
                transform: translate(20px, -20px) scale(1.1);
            }

            66% {
                transform: translate(-15px, 15px) scale(0.95);
            }
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            transition: all var(--transition);
        }

        .card:hover {
            box-shadow: var(--hover-shadow);
        }

        .header {
            padding: 16px 20px;
            margin-bottom: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 12px;
        }

        .header-left h1 {
            font-size: 1.2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pg-logo {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, var(--pg-blue), var(--pg-blue-dark));
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            color: white;
            font-size: 10px;
        }

        .header-left p {
            color: var(--text-muted);
            font-size: 0.75rem;
            margin-top: 2px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-badge {
            background: linear-gradient(135deg, var(--pg-blue), var(--pg-blue-light));
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .theme-toggle {
            display: flex;
            align-items: center;
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 3px;
        }

        .theme-btn {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
            color: var(--text-muted);
            background: transparent;
            border: none;
            cursor: pointer;
            transition: all var(--transition);
        }

        .theme-btn.active {
            background: var(--pg-blue);
            color: white;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }

        .stat-card {
            padding: 12px;
            text-align: center;
            transition: transform var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-label {
            font-size: 0.6rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--pg-blue);
            margin-top: 2px;
        }

        .section-title {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title::before {
            content: '';
            width: 3px;
            height: 20px;
            background: linear-gradient(180deg, var(--pg-blue), var(--pg-blue-light));
            border-radius: 2px;
        }

        .table-card {
            margin-bottom: 16px;
            overflow: hidden;
        }

        .table-wrapper {
            overflow-x: visible;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.72rem;
            table-layout: fixed;
        }

        th,
        td {
            padding: 8px 6px;
            text-align: center;
            vertical-align: middle;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        th {
            background: var(--bg-alt);
            color: var(--text-muted);
            font-weight: 600;
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            position: sticky;
            top: 0;
            border-bottom: 2px solid var(--pg-blue);
        }

        th:nth-child(1) {
            width: 12%;
        }

        th:nth-child(2) {
            width: 14%;
        }

        th:nth-child(3) {
            width: 5%;
        }

        th:nth-child(4) {
            width: 7%;
        }

        th:nth-child(5) {
            width: 10%;
        }

        th:nth-child(6) {
            width: 12%;
        }

        th:nth-child(7) {
            width: 10%;
        }

        th:nth-child(8) {
            width: 8%;
        }

        th:nth-child(9) {
            width: 7%;
        }

        th:nth-child(10) {
            width: 15%;
        }

        tr {
            border-bottom: 1px solid var(--border);
            transition: background var(--transition);
        }

        tbody tr:hover {
            background: var(--bg-alt);
        }

        td {
            font-weight: 500;
        }

        .badge {
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 0.6rem;
            font-weight: 600;
            text-transform: uppercase;
            display: inline-block;
            transition: transform 0.2s;
        }

        .badge:hover {
            transform: scale(1.05);
        }

        .badge.ok,
        .badge.sync {
            background: rgba(46, 160, 67, 0.15);
            color: #2ea043;
        }

        .badge.warning,
        .badge.delay {
            background: rgba(210, 153, 34, 0.15);
            color: #d29922;
        }

        .badge.critical,
        .badge.unsync {
            background: rgba(248, 81, 73, 0.15);
            color: #f85149;
            animation: pulse-red 2s infinite;
        }

        .badge.primary {
            background: rgba(51, 103, 145, 0.2);
            color: var(--pg-blue-light);
        }

        .badge.replica {
            background: rgba(46, 160, 67, 0.15);
            color: #2ea043;
        }

        .badge.na {
            background: rgba(139, 148, 158, 0.15);
            color: var(--text-muted);
        }

        .role-badge {
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 0.6rem;
            font-weight: 600;
            display: inline-block;
            transition: transform 0.2s;
        }

        .role-badge:hover {
            transform: scale(1.05);
        }

        .role-badge.master {
            background: linear-gradient(135deg, var(--pg-blue), var(--pg-blue-dark));
            color: white;
        }

        .role-badge.slave {
            background: linear-gradient(135deg, #2ea043, #238636);
            color: white;
        }

        .role-badge.unknown {
            background: rgba(139, 148, 158, 0.3);
            color: var(--text-muted);
        }

        .value-cell {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1px;
        }

        .value-main {
            font-weight: 600;
            font-size: 0.7rem;
        }

        .value-sub {
            font-size: 0.55rem;
            color: var(--text-muted);
            word-break: break-all;
        }

        code {
            background: var(--bg-alt);
            padding: 1px 4px;
            border-radius: 3px;
            font-size: 0.6rem;
            color: var(--pg-blue-light);
            word-break: break-all;
        }

        .progress-bar {
            width: 50px;
            height: 4px;
            background: var(--border);
            border-radius: 2px;
            overflow: hidden;
            margin: 4px auto 0;
        }

        .progress-fill {
            height: 100%;
            border-radius: 2px;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes pulse-red {
            0% {
                box-shadow: 0 0 0 0 rgba(248, 81, 73, 0.4);
            }

            70% {
                box-shadow: 0 0 0 4px rgba(248, 81, 73, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(248, 81, 73, 0);
            }
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .progress-fill.ok {
            background: linear-gradient(90deg, #238636, #2ea043);
        }

        .progress-fill.warning {
            background: linear-gradient(90deg, #9e6a03, #d29922);
        }

        .progress-fill.critical {
            background: linear-gradient(90deg, #da3633, #f85149);
        }

        .footer {
            text-align: center;
            padding: 16px;
            color: var(--text-muted);
            font-size: 0.65rem;
            margin-top: 10px;
        }

        .footer a {
            color: var(--pg-blue);
            text-decoration: none;
            font-weight: 600;
        }

        @media (max-width: 1024px) {
            body {
                padding: 12px;
            }

            th,
            td {
                padding: 6px 4px;
                font-size: 0.65rem;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                text-align: center;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>

<body>
    <div class="bg-animation">
        <div class="bg-orb bg-orb-1"></div>
        <div class="bg-orb bg-orb-2"></div>
    </div>
    <div class="container">

        <div class="header card">
            <div class="header-left">
                <h1>
                    <div class="pg-logo">PG</div> PostgreSQL Healthcheck Report
                </h1>
                <p>Daily Database Infrastructure Monitoring</p>
            </div>
            <div class="header-right">
                <div class="theme-toggle">
                    <button class="theme-btn" data-theme="light" onclick="setTheme('light')">Light</button>
                    <button class="theme-btn active" data-theme="dark" onclick="setTheme('dark')">Dark</button>
                </div>
                <div class="header-badge">2026-01-05</div>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card card">
                <div class="stat-label">Report Date</div>
                <div class="stat-value">2026-01-05</div>
            </div>
            <div class="stat-card card">
                <div class="stat-label">Instances</div>
                <div class="stat-value">6</div>
            </div>
            <div class="stat-card card">
                <div class="stat-label">Generated</div>
                <div class="stat-value">19:39</div>
            </div>
            <div class="stat-card card">
                <div class="stat-label">Status</div>
                <div class="stat-value">Active</div>
            </div>
        </div>

        <h2 class="section-title">Instance Health Summary</h2>
        <div class="table-card card">
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Instance</th>
                            <th>Hostname</th>
                            <th>Port</th>
                            <th>Role</th>
                            <th>Replication</th>
                            <th>Connections</th>
                            <th>Dead Tuples</th>
                            <th>XID Age</th>
                            <th>Blocked</th>
                            <th>Mountpoint</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Production DB 1</strong></td>
                            <td><code>db-prod-master-01.example.com</code></td>
                            <td>5432</td>
                            <td><span class='role-badge master'>Master</span></td>
                            <td>
                                <div class='value-cell'><span class='badge sync'>SYNC</span><span
                                        class='value-sub'>Streaming OK</span></div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='value-main'>9% Usage</span><code>(45/500)</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill ok' style='width:9%'></div>
                                </div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='badge ok'>125K</span><span
                                        class='value-sub'>public.orders</span></div>
                            </td>
                            <td><span class='badge ok'>180.5M</span></td>
                            <td><span class='badge ok'>0</span></td>
                            <td>
                                <div class='value-cell'><span class='value-main'>45.2%</span><code>/data/pgdata</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill ok' style='width:45%'></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Production DB 2</strong></td>
                            <td><code>db-prod-slave-01.example.com</code></td>
                            <td>5432</td>
                            <td><span class='role-badge slave'>Slave</span></td>
                            <td>
                                <div class='value-cell'><span class='badge sync'>SYNC</span><span
                                        class='value-sub'>Replica OK</span></div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='value-main'>5% Usage</span><code>(23/500)</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill ok' style='width:5%'></div>
                                </div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='badge ok'>89K</span><span
                                        class='value-sub'>public.transactions</span></div>
                            </td>
                            <td><span class='badge ok'>180.5M</span></td>
                            <td><span class='badge ok'>0</span></td>
                            <td>
                                <div class='value-cell'><span class='value-main'>52.8%</span><code>/data/pgdata</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill ok' style='width:53%'></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Reporting DB</strong></td>
                            <td><code>db-reporting-01.example.com</code></td>
                            <td>5432</td>
                            <td><span class='role-badge master'>Master</span></td>
                            <td>
                                <div class='value-cell'><span class='badge delay'>DELAY</span><span
                                        class='value-sub'>Lag: 15 MB</span></div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='value-main'>82% Usage</span><code>(412/500)</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill warning' style='width:82%'></div>
                                </div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='badge warning'>450K</span><span
                                        class='value-sub'>analytics.events</span></div>
                            </td>
                            <td><span class='badge warning'>320.2M</span></td>
                            <td><span class='badge warning'>3</span></td>
                            <td>
                                <div class='value-cell'><span class='value-main'>80.0%</span><code>/data/pgdata</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill warning' style='width:80%'></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Analytics DB</strong></td>
                            <td><code>db-analytics-01.example.com</code></td>
                            <td>5432</td>
                            <td><span class='role-badge master'>Master</span></td>
                            <td>
                                <div class='value-cell'><span class='badge unsync'>UNSYNC</span><span
                                        class='value-sub'>No Replicas</span></div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='value-main'>96% Usage</span><code>(478/500)</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill critical' style='width:96%'></div>
                                </div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='badge critical'>2.5M</span><span
                                        class='value-sub'>dwh.fact_sales</span></div>
                            </td>
                            <td><span class='badge critical'>1.2B</span></td>
                            <td><span class='badge critical'>15</span></td>
                            <td>
                                <div class='value-cell'><span class='value-main'>80.5%</span><code>/data/pgdata</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill critical' style='width:81%'></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Staging DB</strong></td>
                            <td><code>db-staging-01.example.com</code></td>
                            <td>5432</td>
                            <td><span class='role-badge master'>Master</span></td>
                            <td>
                                <div class='value-cell'><span class='badge sync'>SYNC</span><span
                                        class='value-sub'>Streaming OK</span></div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='value-main'>8% Usage</span><code>(15/200)</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill ok' style='width:8%'></div>
                                </div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='badge ok'>5.2K</span><span
                                        class='value-sub'>public.users</span></div>
                            </td>
                            <td><span class='badge ok'>50.1M</span></td>
                            <td><span class='badge ok'>0</span></td>
                            <td>
                                <div class='value-cell'><span class='value-main'>35.0%</span><code>/data/pgdata</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill ok' style='width:35%'></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Dev DB</strong></td>
                            <td><code>db-dev-01.example.com</code></td>
                            <td>5432</td>
                            <td><span class='role-badge master'>Master</span></td>
                            <td>
                                <div class='value-cell'><span class='badge sync'>SYNC</span><span
                                        class='value-sub'>Backup Running</span></div>
                            </td>
                            <td>
                                <div class='value-cell'><span class='value-main'>8% Usage</span><code>(8/100)</code>
                                </div>
                                <div class='progress-bar'>
                                    <div class='progress-fill ok' style='width:8%'></div>
                                </div>
                            </td>
                            <td><span class='badge ok'>0</span></td>
                            <td><span class='badge ok'>25.0M</span></td>
                            <td><span class='badge ok'>0</span></td>
                            <td><span class='badge na'>N/A</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="footer">
            <a href="#">PostgreSQL</a> Healthcheck Report v6.0 | Generated by Telkomsigma DBA Team
        </div>
    </div>

    <script>
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.theme === theme);
            });
        }
        const savedTheme = localStorage.getItem('theme') || 'dark';
        setTheme(savedTheme);
    </script>
</body>

</html>